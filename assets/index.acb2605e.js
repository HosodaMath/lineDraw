var v=Object.defineProperty;var f=(i,t,o)=>t in i?v(i,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[t]=o;var r=(i,t,o)=>(f(i,typeof t!="symbol"?t+"":t,o),o);import{P as w}from"./vendor.6c0cdefa.js";const y=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}};y();class C{constructor(t,o,n){r(this,"p");r(this,"position1");r(this,"position2");this.p=t,this.position1=o,this.position2=n}drawColor(t){this.p.push(),this.p.stroke(t),this.p.beginShape(),this.p.vertex(this.position1.x,this.position1.y,0),this.p.vertex(this.position2.x,this.position2.y,0),this.p.endShape(),this.p.pop()}drawShader(t){this.p.push(),this.p.shader(t),this.p.beginShape(),this.p.vertex(this.position1.x,this.position1.y,0),this.p.vertex(this.position2.x,this.position2.y,0),this.p.endShape(),this.p.pop()}}class g{constructor(t,o,n){r(this,"p");r(this,"move1");r(this,"move2");this.p=t,this.move1=o,this.move2=n}update(){const t=this.p.floor(this.p.random(1,10)),o=this.p.floor(this.p.random(1,10)),n=this.p.frameCount%t,e=this.p.frameCount%o;n===1&&(this.move1.velocity1.y=1,this.move1.position1.add(this.move1.velocity1)),e===1&&(this.move2.velocity2.y=1,this.move2.position2.add(this.move2.velocity2))}draw(t){new C(this.p,this.move1.position1,this.move2.position2).drawColor(t)}isLineRemove(){return this.move1.position1.y<this.p.height*.5&&this.move2.position2.y<this.p.height*.5}}class F{constructor(t){r(this,"p");r(this,"movers");this.p=t,this.movers=[]}addLine(){const t=this.p.random(-this.p.width*.5,this.p.width*.5),o=0,n=this.p.createVector(t,o),e=this.p.createVector(0,0),s={position1:n,velocity1:e},c=this.p.random(-this.p.width*.5,this.p.width*.5),u=0,d=this.p.createVector(c,u),p=this.p.createVector(0,0),l={position2:d,velocity2:p},m=new g(this.p,s,l);this.movers.push(m)}update(){this.p.frameCount%120==1&&this.addLine();for(const t of this.movers)t.update();this.movers=this.movers.filter(t=>t.isLineRemove())}draw(){for(const t of this.movers)t.draw(this.p.color("#ffa500"))}}const L=i=>{const t=document.createElement("button");t.className="fullScreenButton",t.textContent="fullScreen",i.appendChild(t),t.addEventListener("click",()=>{i.requestFullscreen()})},x=i=>{const t=document.createElement("div");t.className="startWindow";const o=document.createElement("h1");o.textContent="Line";const n=document.createElement("p");n.textContent="\u7DDA\u3092\u4F7F\u308F\u305A\u306B\u7DDA\u3092\u66F8\u3044\u3066\u307F\u307E\u3057\u305F\u3002\uFF08\u7DDA\u306F\u7DDA\u5206\u306E\u3053\u3068\u3067\u3059\u3002\uFF09";const e=document.createElement("button");return e.textContent="Start!!",e.className="startButton",i.appendChild(t),t.appendChild(o),t.appendChild(n),t.appendChild(e),{startWindow:t,startButton:e}};const h=document.body,a=x(h);L(h);a.startButton.addEventListener("click",()=>{h.removeChild(a.startWindow);const i=t=>{let o;t.setup=()=>{t.createCanvas(t.windowWidth,t.windowHeight,t.WEBGL),t.noStroke(),t.pixelDensity(1),o=new F(t)},t.draw=()=>{t.background(0,0,0),o.update(),o.draw()},t.windowResized=()=>{t.resizeCanvas(t.windowWidth,t.windowHeight)}};new w(i)});
